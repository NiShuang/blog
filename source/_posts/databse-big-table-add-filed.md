---
title: 数据库大表添加字段的方法
comments: true
date: 2019-07-18 22:15:06
tags: 数据库
category: 后端笔记
---
## 问题

一般情况下，一百万以下数据量的表可以直接进行字段添加操作。而如果数据表的大小达到几百万几千万甚至更多时，添加一个字段会引起数据库卡死。经查阅，数据库大表添加字段有以下两个方法。

## 方法一

1. 创建一个新表，复制旧表的结构（包含索引）

2. 给新表加上添加需要新增的字段

3. 把旧表的数据复制到新表，注意需要分批循环插入，不然容易卡死

4. 删除旧表，重命名新表的名字为旧表的名字


## 方法二

使用 Percona 的在线工具在线修改表结构

教程： <https://blog.csdn.net/hpulfc/article/details/87938724>
  
